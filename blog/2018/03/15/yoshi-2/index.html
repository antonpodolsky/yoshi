<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.55">
<link rel="search" type="application/opensearchdescription+xml" title="Yoshi Universe" href="/yoshi/opensearch.xml"><title data-react-helmet="true">Yoshi 2.0 | Yoshi Universe</title><meta data-react-helmet="true" property="og:title" content="Yoshi 2.0 | Yoshi Universe"><meta data-react-helmet="true" name="description" content="We are very excited to bring you our next version - Yoshi 2."><meta data-react-helmet="true" property="og:description" content="We are very excited to bring you our next version - Yoshi 2."><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link data-react-helmet="true" rel="shortcut icon" href="/yoshi/img/favicon.ico"><link rel="stylesheet" href="/yoshi/styles.e7f54388.css">
<link rel="preload" href="/yoshi/styles.4e0f9ef6.js" as="script">
<link rel="preload" href="/yoshi/runtime~main.86aa96f2.js" as="script">
<link rel="preload" href="/yoshi/main.790606ed.js" as="script">
<link rel="preload" href="/yoshi/1.9d85affe.js" as="script">
<link rel="preload" href="/yoshi/2.4de610b6.js" as="script">
<link rel="preload" href="/yoshi/3.576d4ba1.js" as="script">
<link rel="preload" href="/yoshi/ccc49370.f96aee8e.js" as="script">
<link rel="preload" href="/yoshi/b0df4829.d63a50b7.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_OaSq"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/yoshi/"><img class="navbar__logo" src="/yoshi/img/yoshi.png" alt="Yoshi Logo"><strong class="navbar__title">Yoshi</strong></a><a class="navbar__item navbar__link" href="/yoshi/docs/welcome">Docs</a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a activeclassname="navbar__link--active" class="navbar__item navbar__link">Flows</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/yoshi/docs/app-flow">App Flow</a></li><li><a class="dropdown__link" href="/yoshi/docs/library-flow">Library Flow</a></li><li><a class="dropdown__link" href="/yoshi/docs/editor-flow/overview">Editor Flow</a></li><li><a class="dropdown__link" href="/yoshi/docs/business-manager-flow">BM Flow</a></li><li><a class="dropdown__link" href="/yoshi/docs/legacy-flow">Legacy Flow</a></li></ul></div><a class="navbar__item navbar__link" href="/yoshi/docs/yoshi-server/getting-started">Yoshi Server</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/yoshi/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/yoshi/versions">Versions</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/wix/yoshi" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/yoshi/"><img class="navbar__logo" src="/yoshi/img/yoshi.png" alt="Yoshi Logo"><strong class="navbar__title">Yoshi</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/yoshi/docs/welcome">Docs</a></li><li class="menu__list-item"><a activeclassname="navbar__link--active" class="menu__link menu__link--sublist">Flows</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/yoshi/docs/app-flow">App Flow</a></li><li class="menu__list-item"><a class="menu__link" href="/yoshi/docs/library-flow">Library Flow</a></li><li class="menu__list-item"><a class="menu__link" href="/yoshi/docs/editor-flow/overview">Editor Flow</a></li><li class="menu__list-item"><a class="menu__link" href="/yoshi/docs/business-manager-flow">BM Flow</a></li><li class="menu__list-item"><a class="menu__link" href="/yoshi/docs/legacy-flow">Legacy Flow</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/yoshi/docs/yoshi-server/getting-started">Yoshi Server</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/yoshi/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" href="/yoshi/versions">Versions</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/wix/yoshi" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--8 col--offset-2"><article><header><h1 class="margin-bottom--sm blogPostTitle_2RZH">Yoshi 2.0</h1><div class="margin-vert--md"><time datetime="2018-03-15T00:00:00.000Z" class="blogPostDate_3tRe">March 15, 2018  · 3 min read</time></div><div class="avatar margin-vert--md"><div class="avatar__intro"><h4 class="avatar__name"><a href="http://github.com/ranyitz" target="_blank" rel="noreferrer noopener">Ran Yitzhaki</a></h4><small class="avatar__subtitle"></small></div></div></header><section class="markdown"><p>🎉 We are very excited to bring you our next version - <code>Yoshi 2</code>.</p><p><strong>There are going to be two big changes:</strong></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="webpack4"></a>Webpack@4<a aria-hidden="true" tabindex="-1" class="hash-link" href="#webpack4" title="Direct link to heading">#</a></h2><p>I can explain what&#x27;s good in webpack 4, but <a href="https://medium.com/webpack/webpack-4-released-today-6cdb994702d4">Sean T. Larkin does it better</a>, also, have a look at the <a href="https://github.com/webpack/webpack/releases/tag/v4.0.0">release notes</a>.</p><p>Because Yoshi is using webpack under the hood, we encapsulate the API changes for you, and you will enjoy the faster build time and more from the webpack team. For most of the use cases, no change required.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="eslint4"></a>ESLint@4<a aria-hidden="true" tabindex="-1" class="hash-link" href="#eslint4" title="Direct link to heading">#</a></h2><p>We are a bit behind on the <code>eslint</code> version, the <a href="https://github.com/eslint/eslint/releases/tag/v4.0.0">4th release</a> was on <code>Jun 12, 2017</code> which is almost a year ago. This is the <a href="https://eslint.org/docs/user-guide/migrating-to-4.0.0">migration guide</a>, it has some bug fixes and it will enable us to improve our linting in the future.</p><p>This is a <strong>Breaking Change</strong>, mostly because of the <a href="https://eslint.org/docs/user-guide/migrating-to-4.0.0#-the-indent-rule-is-more-strict">indent rule</a> but there could be some other <a href="https://eslint.org/docs/user-guide/migrating-to-4.0.0#breaking-changes-for-users">breaking changes</a> in your projects. Usually running <code>npx haste lint --fix</code> would run <code>eslint --fix</code> under the hood and will fix all the autofixable errors.</p><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="upgrade-today"></a>Upgrade today!<a aria-hidden="true" tabindex="-1" class="hash-link" href="#upgrade-today" title="Direct link to heading">#</a></h2><p>If you are using <code>haste-preset-yoshi</code> remove it from the dependencies field, and install the next version of Yoshi instead (<a href="https://github.com/wix-private/fed-handbook/wiki/Yoshi-is-not-dead">why we are going back to Yoshi?</a>). Also, replace all the usages of <code>haste</code> to <code>yoshi</code>. This is an <a href="https://github.com/wix-private/guineapig2/pull/487">example of a successful migration</a></p><ol><li>Install our next version</li><li>Remove <code>node_modules</code></li><li>Remove any lock file if exists</li><li>Reinstall dependencies</li></ol><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> i --save-dev yoshi@2</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain"> -rf node_modules package-lock.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> i</span></div></div></div></div></div><p>✋ Get it before everyone else!</p><p>👂 Feel free to ask us questions in <a href="https://wix.slack.com/messages/fed-infra">#fed-infra</a>.</p><p>😼 Let us know how was the migration, how faster your build became?</p><p>📑 For the full feature list, head to our <a href="https://github.com/wix-private/wix-haste/blob/2.0.0/CHANGELOG.md">changelog.md</a></p><p>❤️ Big thanks to <a href="https://github.com/yavorsky">Artem Yavorsky</a> for doing most of the work on this version!</p><hr><h1><a aria-hidden="true" tabindex="-1" class="anchor" id="migration-guide"></a>Migration guide<a aria-hidden="true" tabindex="-1" class="hash-link" href="#migration-guide" title="Direct link to heading">#</a></h1><ol><li>Install <code>yoshi 2</code> (and verify change in <code>package.json</code>):</li></ol><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> i -D yoshi@2</span></div></div></div></div></div><ol start="2"><li>Remove and reinstall your <code>node_modules</code> (do not use an old lockfile).</li><li>Yoshi 2 does not support <code>haste</code> bin anymore, replace all your <code>haste [cmd]</code> in npm scripts to <code>yoshi [cmd]</code>.</li></ol><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-diff codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted" style="color:rgb(255, 85, 114)">-haste start</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted" style="color:rgb(255, 85, 114)"></span><span class="token inserted-sign inserted" style="color:rgb(195, 232, 141)">+yoshi start</span></div></div></div></div></div><ol start="4"><li>Remove the following as it&#x27;s not needed:</li></ol><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-json codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token property">&quot;haste&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">&quot;preset&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;yoshi&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><ol start="5"><li>Fix all the lint errors (use the autofixer for all fixable errors):</li></ol><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-bash codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token function" style="color:rgb(130, 170, 255)">npm</span><span class="token plain"> run lint -- --fix</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="faq"></a>FAQ<a aria-hidden="true" tabindex="-1" class="hash-link" href="#faq" title="Direct link to heading">#</a></h3><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="i-have-two-eslint-rules-that-are-clashing"></a>I have two eslint rules that are clashing!<a aria-hidden="true" tabindex="-1" class="hash-link" href="#i-have-two-eslint-rules-that-are-clashing" title="Direct link to heading">#</a></h2><p>This is probably because of the new indent rule which is clashing with the <code>jsx-closing-bracket-location</code> from <code>eslint-plugin-react</code> which is used under the hood when extending <code>eslint-config-wix/react</code>. To solve it add the following to your <code>.eslintrc</code> or <code>eslintConfig</code> field in <code>package.json</code>.</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-json codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token property">&quot;react/jsx-closing-bracket-location&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;error&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;nonEmpty&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;tag-aligned&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token property">&quot;selfClosing&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="i-have-a-storybook-configuration-which-runs-using-webpack-3"></a>I have a storybook configuration, which runs using webpack 3.<a aria-hidden="true" tabindex="-1" class="hash-link" href="#i-have-a-storybook-configuration-which-runs-using-webpack-3" title="Direct link to heading">#</a></h2><p>Webpack is one of those packages you want to have only once. (just one version in your node_modules), which means you should update the storybook version to a webpack4 compatible one, any <a href="https://github.com/storybooks/storybook/releases/tag/v4.0.0-alpha.3">v4.0.0</a> would do.</p><ol><li>Update the storybook version in <code>package.json</code> before installing dependencies.</li><li>If you have a custom storybook configuration (probably in <code>.storybook</code> directory), please modify it to use get the <a href="https://storybook.js.org/configurations/custom-webpack-config/#full-control-mode--default">default configuration</a> as an argument as in the following example:</li></ol><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> yoshiWebpackConfig </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">require</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;yoshi/config/webpack.config.storybook&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">module</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token method-variable function-variable method function property-access" style="color:rgb(130, 170, 255)">exports</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token parameter">config</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> env</span><span class="token parameter punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token parameter"> defaultConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">yoshiWebpackConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">defaultConfig</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div></div></div></div></div></section></article><div></div><div class="margin-vert--xl"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/yoshi/blog/2018/06/03/yoshi-3"><div class="pagination-nav__sublabel">Previous Post</div><div class="pagination-nav__label">« Yoshi 3.0</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/yoshi/blog/2018/03/14/semantic-versioning"><div class="pagination-nav__sublabel">Next Post</div><div class="pagination-nav__label">Moving To Semantic Versioning »</div></a></div></nav></div></div></div></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/yoshi/docs/welcome">Get Started</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/yoshi/blog">Blog</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 Wix.com, Built with Docusaurus.</div></div></div></footer></div>
<script src="/yoshi/styles.4e0f9ef6.js"></script>
<script src="/yoshi/runtime~main.86aa96f2.js"></script>
<script src="/yoshi/main.790606ed.js"></script>
<script src="/yoshi/1.9d85affe.js"></script>
<script src="/yoshi/2.4de610b6.js"></script>
<script src="/yoshi/3.576d4ba1.js"></script>
<script src="/yoshi/ccc49370.f96aee8e.js"></script>
<script src="/yoshi/b0df4829.d63a50b7.js"></script>
</body>
</html>