<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.54">


<title data-react-helmet="true">Library Flow | Yoshi Universe</title>

<meta data-react-helmet="true" name="docsearch:version" content="next"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Library Flow | Yoshi Universe"><meta data-react-helmet="true" name="description" content="A zero configuraiton toolkit to create modern TypeScript libraries @ Wix."><meta data-react-helmet="true" property="og:description" content="A zero configuraiton toolkit to create modern TypeScript libraries @ Wix."><meta data-react-helmet="true" property="og:url" content="https://wix.github.io/yoshi/docs/next/library-flow">

<link data-react-helmet="true" rel="shortcut icon" href="/yoshi/img/favicon.ico">


<link rel="stylesheet" href="/yoshi/styles.73ff1874.css">


<link rel="preload" href="/yoshi/styles.f5e9cca3.js" as="script">

<link rel="preload" href="/yoshi/runtime~main.ecc4e422.js" as="script">

<link rel="preload" href="/yoshi/main.5f46b878.js" as="script">

<link rel="preload" href="/yoshi/1.8eca753e.js" as="script">

<link rel="preload" href="/yoshi/2.9c398639.js" as="script">

<link rel="preload" href="/yoshi/3.cbc77dca.js" as="script">

<link rel="preload" href="/yoshi/1be78505.a2fef56f.js" as="script">

<link rel="preload" href="/yoshi/cb8e64de.f50901fc.js" as="script">

<link rel="preload" href="/yoshi/17896441.ae0c336e.js" as="script">

<link rel="preload" href="/yoshi/30f142a7.96f0abb2.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_OaSq"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/yoshi/"><img class="navbar__logo" src="/yoshi/img/yoshi.png" alt="Yoshi Logo"><strong class="navbar__title">Yoshi</strong></a><a class="navbar__item navbar__link" href="/yoshi/docs/welcome">Docs</a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a activeclassname="navbar__link--active" class="navbar__item navbar__link">Flows</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/yoshi/docs/app-flow">App Flow</a></li><li><a class="dropdown__link" href="/yoshi/docs/library-flow">Library Flow</a></li><li><a class="dropdown__link" href="/yoshi/docs/editor-flow/overview">Editor Flow</a></li><li><a class="dropdown__link" href="/yoshi/docs/business-manager-flow">BM Flow</a></li><li><a class="dropdown__link" href="/yoshi/docs/legacy-flow">Legacy Flow</a></li></ul></div><a class="navbar__item navbar__link" href="/yoshi/docs/yoshi-server/getting-started">Yoshi Server</a><a class="navbar__item navbar__link" href="/yoshi/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/yoshi/versions">Versions</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/wix/yoshi" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/yoshi/"><img class="navbar__logo" src="/yoshi/img/yoshi.png" alt="Yoshi Logo"><strong class="navbar__title">Yoshi</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" position="left" href="/yoshi/docs/welcome">Docs</a></li><li class="menu__list-item"><a activeclassname="navbar__link--active" class="menu__link menu__link--sublist" position="left">Flows</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/yoshi/docs/app-flow">App Flow</a></li><li class="menu__list-item"><a class="menu__link" href="/yoshi/docs/library-flow">Library Flow</a></li><li class="menu__list-item"><a class="menu__link" href="/yoshi/docs/editor-flow/overview">Editor Flow</a></li><li class="menu__list-item"><a class="menu__link" href="/yoshi/docs/business-manager-flow">BM Flow</a></li><li class="menu__list-item"><a class="menu__link" href="/yoshi/docs/legacy-flow">Legacy Flow</a></li></ul></li><li class="menu__list-item"><a class="menu__link" position="left" href="/yoshi/docs/yoshi-server/getting-started">Yoshi Server</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/yoshi/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" position="right" href="/yoshi/versions">Versions</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/wix/yoshi" class="menu__link" position="right">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><div><span class="badge badge--secondary">Version: next</span></div><header><h1 class="docTitle_1vWb">Library Flow</h1></header><div class="markdown"><p>A zero configuraiton toolkit to create modern TypeScript libraries @ Wix.</p><blockquote><p>See <a href="https://wix.github.io/yoshi/docs/guides/app-flow#__docusaurus">App Flow</a> for developing client applications</p></blockquote><p><img src="https://user-images.githubusercontent.com/11733036/77347439-85e60400-6d40-11ea-8270-ae6ac2714a55.gif" alt="Editor-flow-example"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="what-is-a-library"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-is-a-library" title="Direct link to heading">#</a>What is a library?</h3><blockquote><p>In the scope of frontend development</p></blockquote><p>A library is a chunk of code that you want to reuse between client applications, servers and other libraries. This toolkit focuses on <strong>client libararies</strong>, or libraries that will be consumed in JavaScript client applications.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="features"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#features" title="Direct link to heading">#</a>Features</h2><ul><li>100% TypeScript</li><li>Bundle with webpack (optional)</li><li>Support tree-shaking and dynamic imports</li><li>Fast Slick watch mode</li><li>Optimized, fast build process</li><li>Zero configuration needed</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="installation"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#installation" title="Direct link to heading">#</a>Installation</h2><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-sh codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">EXPERIMENTAL_FLOW_LIBRARY=true npx create-yoshi-app &lt;my-library&gt;</span></div></div></div></div></div><p>Choose <code>flow-library</code> &amp; <code>TypeScript</code>.</p><p>In case you want to ship a <code>.css</code> bundle with your library, also run <code>npm install -D yoshi-style-dependencies</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="usage"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#usage" title="Direct link to heading">#</a>Usage</h2><ul><li><code>yoshi-library start</code> - Start a development server which rebuilds on any change</li><li><code>yoshi-library test</code> - Run the tests using <code>jest</code></li><li><code>yoshi-library lint</code> - Run <code>eslint</code></li><li><code>yoshi-library build</code> - Prepare the library for production deployment/publish</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="configuration"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#configuration" title="Direct link to heading">#</a>Configuration</h2><p>We try to limit confugration, but there are still different use-cases that requires us to provide the following:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="bundle"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#bundle" title="Direct link to heading">#</a>bundle</h3><p>Adding a umd bundle which will be created on <code>dist/statics/&lt;packageJsonName&gt;.umd.js</code></p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;yoshiFlowLibrary&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bundle&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="bundlelibrary"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#bundlelibrary" title="Direct link to heading">#</a>bundle.library</h3><p>Changing how this library will be exposed (on the <code>window</code> object for example)</p><blockquote><p>This value corresponds to webpack&#x27;s <a href="https://webpack.js.org/configuration/output/#outputlibrary">library option</a></p></blockquote><blockquote><p>The variable MyLibrary will be bound with the return value of your entry file, if the resulting output is included as a script tag in an HTML page. In this case on <code>window.MyLibrary</code></p></blockquote><p>Defaults to your project name in <code>package.json</code></p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;yoshiFlowLibrary&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bundle&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;library&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;MyLibrary&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="bundleexternals"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#bundleexternals" title="Direct link to heading">#</a>bundle.externals</h3><p>The externals configuration option provides a way of excluding dependencies from the output bundles. Instead, the created bundle relies on that dependency to be present in the consumer&#x27;s (any end-user application) environment. This feature is typically most useful to library developers, however there are a variety of applications for it.</p><blockquote><p>Corresponds with webpack&#x27;s <a href="https://webpack.js.org/configuration/externals/">externals options</a></p></blockquote><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;yoshiFlowLibrary&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bundle&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;externals&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;react&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;React&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;react-dom&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;ReactDOM&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="bundleentry"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#bundleentry" title="Direct link to heading">#</a>bundle.entry</h3><p>Adding another entry will create another bundle in the <code>dist/statics</code> directory.</p><p>Defaults to <code>index.ts</code></p><blockquote><p>Corresponds with webpack&#x27;s <a href="https://webpack.js.org/configuration/entry-context/#entry">entry option</a></p></blockquote><blockquote><p>NOTE: All values here are relative to the <code>src</code> directory, the following example will take <code>src/anotherEntry.ts</code></p></blockquote><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;yoshiFlowLibrary&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bundle&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;entry&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;anotherEntry.ts&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="bundleport"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#bundleport" title="Direct link to heading">#</a>bundle.port</h3><p>The port which will be used by <a href="https://github.com/webpack/webpack-dev-server">webpack-dev-server</a>.</p><p>Defaults to <code>3300</code></p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;yoshiFlowLibrary&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bundle&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;port&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3333</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="bundlehttps"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#bundlehttps" title="Direct link to heading">#</a>bundle.https</h3><p>Whether <a href="https://github.com/webpack/webpack-dev-server">webpack-dev-server</a> will run on <code>https</code> or <code>http</code>.</p><p>Defaults to <code>false</code> (<code>http</code>)</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;yoshiFlowLibrary&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;bundle&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;port&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">3333</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="faq"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#faq" title="Direct link to heading">#</a>FAQ</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="what-build-command-produces"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-build-command-produces" title="Direct link to heading">#</a>What <code>build</code> command produces?</h3><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-none codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">─── dist</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ├── cjs (commonjs files)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ├── esm (esmodules files)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    ├── statics (umd bundle) - [optional]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    └── types (d.ts files)</span></div></div></div></div></div><blockquote><p>After installing the library through <code>npm</code> this is how its output is being routed using the following fields in its <code>package.json</code> file</p></blockquote><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">{</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;main&quot;: &quot;dist/cjs/index.js&quot;, // for NodeJS, used in component tests</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;module&quot;: &quot;dist/es/index.js&quot;, // for webpack, because of dynamic import and Tree-Shaking</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  &quot;types&quot;: &quot;dist/types/index.d.ts&quot;, // for the IDE and other TypeScript projects</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">}</span></div></div></div></div></div><p>The bundle (<code>dist/statics</code> directory) is deployed to the cdn (<code>parastorage</code>) and should be used from there</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="why-does-this-supports-only-typescript"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#why-does-this-supports-only-typescript" title="Direct link to heading">#</a>Why does this supports only TypeScript?</h3><p>In Wix more than 80% of the frontend code is written with <code>TypeScript</code>. When creating a reusable library, having types is important for IDE features such a auto-completions and auto-import to work. It also helps preventing mistakes on other <code>TypeScript</code> projects that uses the library. It&#x27;s also important to remember that there is a trade-off regarding maintaining support in multiple different use-cases and this trade-off means that when doing that, we won&#x27;t be able to invest time deliver more features or make this flow more optimize. If you&#x27;ve only worked with JavaScript so far, I suggest you to let it an opportunity and see if it works for you.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="how-can-i-use-a-library-create-by-this-flow"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#how-can-i-use-a-library-create-by-this-flow" title="Direct link to heading">#</a>How can I use a library create by this Flow?</h3><p>There are 2 main ways to consume a libaray:</p><ol><li><strong>from <code>npm</code></strong> - import the library from the application&#x27;s code and bundle it (Using <code>yoshi</code>&#x27;s app flow is guaranteed to work)</li><li><strong>from the <code>cdn</code></strong> - Consume the already bundled library using a <code>&lt;script src=&quot;library.umd.js&quot;&gt;</code> tag. (You&#x27;ll need to specify it in the <a href="https://wix.github.io/yoshi/docs/api/configuration#externals"><code>externals</code></a> configuration option)</li></ol><p>Using the second method also enables the version of the library to be controlled by the library author, so things like <code>GA</code> of the library would be able to get to production without the application code needs to be modified.</p><blockquote><p>Here are some pros and cons</p></blockquote><table><thead><tr><th></th><th>from <code>npm</code></th><th>from the <code>cdn</code></th></tr></thead><tbody><tr><td>Consume from a GA*</td><td>X</td><td>V</td></tr><tr><td>Tree-shake unused code</td><td>V</td><td>X</td></tr><tr><td>Affects app&#x27;s build time</td><td>V</td><td>X</td></tr><tr><td>Perform dynamic import</td><td>V</td><td>V</td></tr><tr><td>Share dependencies with your app</td><td>V</td><td>X</td></tr></tbody></table></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/wix/yoshi/edit/master/website/docs/library-flow.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2020-05-19T09:12:26.000Z" class="docLastUpdatedAt_1sqk">5/19/2020</time> by <strong>Amit Dahan</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#what-is-a-library" class="contents__link">What is a library?</a></li><li><a href="#features" class="contents__link">Features</a></li><li><a href="#installation" class="contents__link">Installation</a></li><li><a href="#usage" class="contents__link">Usage</a></li><li><a href="#configuration" class="contents__link">Configuration</a><ul><li><a href="#bundle" class="contents__link">bundle</a></li><li><a href="#bundlelibrary" class="contents__link">bundle.library</a></li><li><a href="#bundleexternals" class="contents__link">bundle.externals</a></li><li><a href="#bundleentry" class="contents__link">bundle.entry</a></li><li><a href="#bundleport" class="contents__link">bundle.port</a></li><li><a href="#bundlehttps" class="contents__link">bundle.https</a></li></ul></li><li><a href="#faq" class="contents__link">FAQ</a><ul><li><a href="#what-build-command-produces" class="contents__link">What <code>build</code> command produces?</a></li><li><a href="#why-does-this-supports-only-typescript" class="contents__link">Why does this supports only TypeScript?</a></li><li><a href="#how-can-i-use-a-library-create-by-this-flow" class="contents__link">How can I use a library create by this Flow?</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/yoshi/docs/welcome">Get Started</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/yoshi/blog">Blog</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 Wix.com, Built with Docusaurus.</div></div></div></footer>
</div>

<script src="/yoshi/styles.f5e9cca3.js"></script>

<script src="/yoshi/runtime~main.ecc4e422.js"></script>

<script src="/yoshi/main.5f46b878.js"></script>

<script src="/yoshi/1.8eca753e.js"></script>

<script src="/yoshi/2.9c398639.js"></script>

<script src="/yoshi/3.cbc77dca.js"></script>

<script src="/yoshi/1be78505.a2fef56f.js"></script>

<script src="/yoshi/cb8e64de.f50901fc.js"></script>

<script src="/yoshi/17896441.ae0c336e.js"></script>

<script src="/yoshi/30f142a7.96f0abb2.js"></script>


</body>
</html>