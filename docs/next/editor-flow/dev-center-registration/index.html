<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.55">
<link rel="search" type="application/opensearchdescription+xml" title="Yoshi Universe" href="/yoshi/opensearch.xml"><title data-react-helmet="true">Dev Center Registration | Yoshi Universe</title><meta data-react-helmet="true" name="docsearch:version" content="next"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Dev Center Registration | Yoshi Universe"><meta data-react-helmet="true" name="description" content="Note: Currently, dev center is new and not stable. You can&#x27;t create an out of iframe app just using dev center. You have to use rpc calls to app service to configure correctly your widget."><meta data-react-helmet="true" property="og:description" content="Note: Currently, dev center is new and not stable. You can&#x27;t create an out of iframe app just using dev center. You have to use rpc calls to app service to configure correctly your widget."><meta data-react-helmet="true" property="og:url" content="https://wix.github.io/yoshi/docs/next/editor-flow/dev-center-registration"><link data-react-helmet="true" rel="shortcut icon" href="/yoshi/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://wix.github.io/yoshi/docs/next/editor-flow/dev-center-registration"><link rel="stylesheet" href="/yoshi/styles.e7f54388.css">
<link rel="preload" href="/yoshi/styles.4e0f9ef6.js" as="script">
<link rel="preload" href="/yoshi/runtime~main.1b147805.js" as="script">
<link rel="preload" href="/yoshi/main.790606ed.js" as="script">
<link rel="preload" href="/yoshi/1.9d85affe.js" as="script">
<link rel="preload" href="/yoshi/2.4de610b6.js" as="script">
<link rel="preload" href="/yoshi/3.576d4ba1.js" as="script">
<link rel="preload" href="/yoshi/1be78505.1db66381.js" as="script">
<link rel="preload" href="/yoshi/cb8e64de.5950d1b3.js" as="script">
<link rel="preload" href="/yoshi/9c47d2af.2274553b.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_OaSq"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/yoshi/"><img class="navbar__logo" src="/yoshi/img/yoshi.png" alt="Yoshi Logo"><strong class="navbar__title">Yoshi</strong></a><a class="navbar__item navbar__link" href="/yoshi/docs/welcome">Docs</a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a activeclassname="navbar__link--active" class="navbar__item navbar__link">Flows</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/yoshi/docs/app-flow">App Flow</a></li><li><a class="dropdown__link" href="/yoshi/docs/library-flow">Library Flow</a></li><li><a class="dropdown__link" href="/yoshi/docs/editor-flow/overview">Editor Flow</a></li><li><a class="dropdown__link" href="/yoshi/docs/business-manager-flow">BM Flow</a></li><li><a class="dropdown__link" href="/yoshi/docs/legacy-flow">Legacy Flow</a></li></ul></div><a class="navbar__item navbar__link" href="/yoshi/docs/yoshi-server/getting-started">Yoshi Server</a><a class="navbar__item navbar__link" href="/yoshi/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/yoshi/versions">Versions</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/wix/yoshi" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/yoshi/"><img class="navbar__logo" src="/yoshi/img/yoshi.png" alt="Yoshi Logo"><strong class="navbar__title">Yoshi</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/yoshi/docs/welcome">Docs</a></li><li class="menu__list-item"><a activeclassname="navbar__link--active" class="menu__link menu__link--sublist">Flows</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/yoshi/docs/app-flow">App Flow</a></li><li class="menu__list-item"><a class="menu__link" href="/yoshi/docs/library-flow">Library Flow</a></li><li class="menu__list-item"><a class="menu__link" href="/yoshi/docs/editor-flow/overview">Editor Flow</a></li><li class="menu__list-item"><a class="menu__link" href="/yoshi/docs/business-manager-flow">BM Flow</a></li><li class="menu__list-item"><a class="menu__link" href="/yoshi/docs/legacy-flow">Legacy Flow</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/yoshi/docs/yoshi-server/getting-started">Yoshi Server</a></li><li class="menu__list-item"><a class="menu__link" href="/yoshi/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" href="/yoshi/versions">Versions</a></li><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/wix/yoshi" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><div><span class="badge badge--secondary">Version: next</span></div><header><h1 class="docTitle_1vWb">Dev Center Registration</h1></header><div class="markdown"><blockquote><p>Note: Currently, dev center is new and not stable. You can&#x27;t create an out of iframe app just using dev center. You have to use rpc calls to app service to configure correctly your widget.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="register-an-app-in-dev-center-manually"></a>Register an app in dev center manually<a aria-hidden="true" tabindex="-1" class="hash-link" href="#register-an-app-in-dev-center-manually" title="Direct link to heading">#</a></h3><p>Initially, you probably need the app configured to work with your localhost. So all next examples are based on local configuration.</p><p>Steps to register your app in dev center:</p><ul><li>Just go to the new dev center: <a href="https://dev.wix.com/dc3/my-apps">https://dev.wix.com/dc3/my-apps</a></li><li>Click <strong><code>Create New App</code></strong> on the top right.</li><li><em>(Optional, but useful)</em>: Rename your app: Go to <strong>Market Listing</strong> -&gt; <strong>App Name</strong> and change the name to something you want.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="create-your-apps-components-local-development"></a>Create your app&#x27;s components (local development)<a aria-hidden="true" tabindex="-1" class="hash-link" href="#create-your-apps-components-local-development" title="Direct link to heading">#</a></h3><ul><li><p><strong>Platform component</strong> (required)</p><blockquote><p>Each app should contain one platform component. This component responsible for loading <code>viewerScript</code> for your app which all collects OOI widgets and OOI Page controllers.</p></blockquote></li><li><p><em>Register platform component (viewerScript):</em></p><ul><li>Pick some name for your platform component.</li><li>Add <code>viewerScript</code> url to <code>Viewer URL</code> field. For example, for local development it will be <code>https://localhost:3200/viewerScript.bundle.js</code>.</li></ul></li><li><p><strong>OOI Widget</strong> / <strong>OOI Page</strong></p><blockquote><p>Out of Iframe Component, which contain UI logic as a React Component and functional logic as a controller. Being rendered on both editor and viewer parts. You should create new OOI widget for each widget in your project. This approach will be automated in future.</p></blockquote></li><li><p><em>Register Out of iFrame Widget (viewerWidget + editor endpoints):</em></p><ul><li><p>Fill the name of your component.</p></li><li><p>In <strong>Widget Info</strong> section add <code>[:componentName]ViewerWidget</code> url to <code>Component URL</code>. For example, <code>https://localhost:3200/buttonViewerWidget.bundle.js</code>. This will configure platform to render component in viewer.</p></li><li><p>In <strong>Widget Endpoints</strong> section add:</p><ul><li>Editor endpoint to render your widget via <code>Component URL</code>. It could be your server or static html file url (see more: <a href="https://github.com/wix/yoshi/issues/2013">#2013</a>), which will be rendered in iFrame by platform. For local development (after you start the app by <code>yoshi-flow-editor start</code>) it will be available by: <code>https://localhost:3000/editor/:componentName</code>.</li><li>Settings Panel endpoint. Server or static html url which will render settings for your widget. For local development it will be <code>https://localhost:3000/settings/:componentName</code>.</li></ul></li><li><p>Update your <strong>local app</strong>. Each widget should be represented by component in your app. To map dev center widget with your component just add <code>&quot;id&quot;: &quot;{Widget ID}&quot;</code> to <code>.component.json</code> in the component&#x27;s directory. This will allow yoshi to create all the magic under the hood.</p></li></ul></li></ul><blockquote><p><strong>OOI Page</strong> - The same as OOI Widget, but renders as a page. After adding it to your site, you can see it in the top left website navigation or via specific page url on the viewer site. The dev center configuration process is pretty the same as OOI Widget.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="troubleshooting-new-app-registration"></a>Troubleshooting new app registration<a aria-hidden="true" tabindex="-1" class="hash-link" href="#troubleshooting-new-app-registration" title="Direct link to heading">#</a></h3><p>Currently, new dev center is not supporting some features.</p><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="needed-fields-is-missing-for-newly-created-apps"></a>Needed fields is missing for newly created apps<a aria-hidden="true" tabindex="-1" class="hash-link" href="#needed-fields-is-missing-for-newly-created-apps" title="Direct link to heading">#</a></h5><p>You can find out that your app is not appearing on your website after installation or clicking <code>Test Your App</code>. Other issue is that only one widget is loading on the website.</p><p>To review your app&#x27;s model, visit
<a href="https://dev.wix.com/_api/app-service/v1/apps/%7BappDefinitionId%7D">https://dev.wix.com/_api/app-service/v1/apps/{appDefinitionId}</a></p><p>The main thing here is <code>components</code> array. There are 2 issues:</p><ul><li>At least one component should have <code>default: true</code> field.</li><li>If we want to load multiple widgets on the same time, we should add <code>essential: true</code> to component&#x27;s that are not default, but should be loaded with it.</li></ul><p>Since Dev Center is not supporting it for now, we can use RPC calls bypassing Dev Center:</p><ul><li>Connect to VPN.</li><li><a href="https://pbo.wixpress.com/rpc-console-poc/app-service-webapp/ip-10-43-142-184.ec2.internal/Components/update?W3siY29tcFR5cGUiOiJXSURHRVRfT1VUX09GX0lGUkFNRSIsImNvbXBOYW1lIjoiYnV0dG9uIG9rb2siLCJjb21wSWQiOiIvLyBDT1BZIEZST00gREVWX0NFTlRFUiIsImFwcElkIjoiLy8gQ09QWSBGUk9NIERFVl9DRU5URVIiLCJjb21wRGF0YSI6eyJ3aWRnZXRPdXRPZklmcmFtZURhdGEiOnsid2lkZ2V0RGF0YSI6eyJzZW9FbmRwb2ludFVybCI6bnVsbCwic2V0dGluZ3NFbmRwb2ludFVybCI6Imh0dHBzOi8vbG9jYWxob3N0OjMwMDAvc2V0dGluZ3MvYnV0dG9uIiwid2lkZ2V0RW5kcG9pbnRVcmwiOiJodHRwczovL2xvY2FsaG9zdDozMDAwL2VkaXRvci9idXR0b24iLCJlc3NlbnRpYWwiOnRydWUsInB1Ymxpc2hlZCI6ZmFsc2UsImhlaWdodCI6MjUwLCJmaXhlZFBvc2l0aW9uT3B0aW9uIjp7IndpZGdldEhvcml6b250YWwiOiJOT05FX0hPUklaT05UQUwiLCJ3aWRnZXRWZXJ0aWNhbCI6Ik5PTkVfVkVSVElDQUwifSwid2lkZ2V0TW9iaWxlRW5kcG9pbnRVcmwiOm51bGwsIndpZGdldERpc3BsYXkiOm51bGwsIndpZGdldFdpZHRoVHlwZSI6IkNVU1RPTSIsInRwYVdpZGdldElkIjoiLy8gdGhlIHNhbWUgYXMgY29tcElkIiwiZGVmYXVsdCI6dHJ1ZSwicG9zaXRpb24iOm51bGwsIndpZHRoIjoyNTAsImFkZE9ubHlPbmNlIjpmYWxzZX0sImNvbnRyb2xsZXJVcmwiOm51bGwsImNvbXBvbmVudFVybCI6Imh0dHBzOi8vbG9jYWxob3N0OjMyMDAvYnV0dG9uVmlld2VyV2lkZ2V0LmJ1bmRsZS5qcyJ9fX1d.eyJ3aXhTZXNzaW9uIjoiIn0=">Go to RPC console</a>. Sign in if needed</li><li>Go to <a href="https://dev.wix.com/dc3/my-apps">Dev Center</a> and select your app. (You will need this to copy app id and component id).</li><li>Fill <code>appId</code> from Dev center&#x27;s <code>Dashboard</code> -&gt; <code>App ID</code>.</li><li>Fill <code>compId</code> from Dev center&#x27;s <code>Components</code> -&gt; <code>{Your OOI Component}</code> -&gt; <code>Widget ID</code>. Paste the same value to  <code>tpaWidgetId</code> field.</li><li>Verify <code>essential</code>, <code>default</code> (if it&#x27;s first component) selected.</li><li>Paste your WixSession token to <code>Identity</code> -&gt; <code>WixSession</code> at the bottom of RPC console. You can take this token from your cookie. It&#x27;s everything that is going after <code>wixSession2=</code> untill <code>;</code> or end of string.</li></ul><blockquote><p>All fields will be set to default after you update it from Dev Center again. So, if you have some issues and using RPC to fix it, please don&#x27;t update the same components via Dev Center, untill issues will be resolved on it&#x27;s side.</p></blockquote><h5><a aria-hidden="true" tabindex="-1" class="anchor" id="versions-are-not-being-updated-automatically"></a>Versions are not being updated automatically<a aria-hidden="true" tabindex="-1" class="hash-link" href="#versions-are-not-being-updated-automatically" title="Direct link to heading">#</a></h5><p>Currently, Dev Center is not updating new versions via <code>.ci_config</code>. Only manual updating approach is working if you created a new RC version.
Just go to component&#x27;s configuration and update versions for all needed urls:</p><div class="mdxCodeBlock_iHAB"><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><div tabindex="0" class="prism-code language-diff codeBlock_19pQ"><div class="codeBlockLines_2n9r" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted" style="color:rgb(255, 85, 114)">- https://static.parastorage.com/services/{artifactId}/1.34.0/labelViewerWidget.bundle.min.js</span></div><div class="token-line" style="color:#bfc7d5"><span class="token deleted-sign deleted" style="color:rgb(255, 85, 114)"></span><span class="token inserted-sign inserted" style="color:rgb(195, 232, 141)">+ https://static.parastorage.com/services/{artifactId}/1.35.0/labelViewerWidget.bundle.min.js</span></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/wix/yoshi/edit/master/website/docs/editor-flow/dev-center-registration.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2020-05-18T10:17:44.000Z" class="docLastUpdatedAt_1sqk">5/18/2020</time> by <strong>Artem Yavorsky</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#register-an-app-in-dev-center-manually" class="table-of-contents__link">Register an app in dev center manually</a></li><li><a href="#create-your-apps-components-local-development" class="table-of-contents__link">Create your app&#39;s components (local development)</a></li><li><a href="#troubleshooting-new-app-registration" class="table-of-contents__link">Troubleshooting new app registration</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/yoshi/docs/welcome">Get Started</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/yoshi/blog">Blog</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 Wix.com, Built with Docusaurus.</div></div></div></footer></div>
<script src="/yoshi/styles.4e0f9ef6.js"></script>
<script src="/yoshi/runtime~main.1b147805.js"></script>
<script src="/yoshi/main.790606ed.js"></script>
<script src="/yoshi/1.9d85affe.js"></script>
<script src="/yoshi/2.4de610b6.js"></script>
<script src="/yoshi/3.576d4ba1.js"></script>
<script src="/yoshi/1be78505.1db66381.js"></script>
<script src="/yoshi/cb8e64de.5950d1b3.js"></script>
<script src="/yoshi/9c47d2af.2274553b.js"></script>
</body>
</html>